import{u as g,k as A,a1 as C,a as D,a0 as m,E as F}from"./entry.007e379e.js";import{h as x,u as O}from"./index.b36e8ee2.js";import{u as U}from"./cookie.244e42d6.js";function q(t,s,a){const[n={},_]=typeof s=="string"?[{},s]:[s,a],r=n.key||x([_,g(n.baseURL),typeof t=="string"?t:"",g(n.params||n.query)]);if(!r||typeof r!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+r);if(!t)throw new Error("[nuxt] [useFetch] request is missing.");const l=r===_?"$f"+r:r,o=A(()=>{let u=t;return typeof u=="function"&&(u=u()),g(u)}),{server:p,lazy:c,default:w,transform:y,pick:k,watch:v,immediate:b,...$}=n,d=C({...$,cache:typeof n.cache=="boolean"?void 0:n.cache}),E={server:p,lazy:c,default:w,transform:y,pick:k,immediate:b,watch:[d,o,...v||[]]};let i;return O(l,()=>{var f;return(f=i==null?void 0:i.abort)==null||f.call(i),i=typeof AbortController<"u"?new AbortController:{},typeof o.value=="string"&&o.value.startsWith("/"),(n.$fetch||globalThis.$fetch)(o.value,{signal:i.signal,...d})},E)}const h=(t,s)=>{const n={Authorization:`Bearer ${U("token").value}`},{public:{baseUrl:_}}=D(),r=_+t;return new Promise(async(l,o)=>{q(r,{...s,headers:n},"$nIfBrkE4uq").then(({data:p,error:c})=>{p._rawValue?l(F(p)):(c._value.status==500?m.error("服务器错误"):m.error(c._value.data.message),o(c))}).catch(p=>{o(p)})})},e=new class{get(s,a){return h(s,{method:"get",params:a})}post(s,a){return h(s,{method:"post",params:a})}put(s,a){return h(s,{method:"put",body:a})}delete(s,a){return h(s,{method:"delete",body:a})}},I=t=>e.post("api/web_login",t),K=t=>e.post("api/register",t),L=t=>e.post("api/get_message",t),M=t=>e.post("api/check_message",t),P=t=>e.post("api/searchs",t),V=t=>e.post("api/del_msg",t),W=t=>e.post("api/update_user",t),j=()=>e.post("api/get_user"),G=t=>e.post("api/change_password",t),J=t=>e.post("api/send_email",t),N=t=>e.post("api/reset_password",t),Q=t=>e.post("api/alipay",t),S=t=>e.post("api/wechat",t),X=()=>e.post("api/get_vip_level"),Y=t=>e.post("api/ai_draw_openai",t),Z=()=>e.post("api/get_me_draw"),tt=t=>e.post("api/send_public",t),et=()=>e.post("api/invite_code"),st=t=>e.post("api/kami_check",t),at=()=>e.post("api/get_setting");export{Y as a,L as b,M as c,P as d,V as e,J as f,Z as g,N as h,j as i,X as j,G as k,I as l,et as m,st as n,Q as o,at as p,K as r,tt as s,W as u,S as w};
